<h1 class="title">Period</h1>
<!--
Table with all Periods
-->
<div class="container-fluid p-3 my-3">
  <button (click)="fetchAll()" *ngIf="!periods" class="btn btn-primary" type="button">Show Periods</button>
  <ng-container *ngIf="periods">
    <button (click)="clearAllPeriods()" class="btn btn-primary" type="button">Hide Periods</button>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Employee</th>
        <th scope="col">Purpose</th>
        <th scope="col">Date from</th>
        <th scope="col">Date to</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let period of periods">
        <th scope="row">{{period.employee}}</th>
        <td>{{period.purpose}}</td>
        <td>{{period.dateFrom}}</td>
        <td>{{period.dateTo}}</td>
      </tr>
      </tbody>
    </table>
  </ng-container>
</div>
<!--
Show all Employees
-->
<div class="container-fluid p-3 my-3">
  <button (click)="showEmployees()" *ngIf="!showEmployeeList" class="btn btn-primary" type="button">Show Employees</button>
  <ng-container *ngIf="showEmployeeList">
    <button (click)="showEmployees()" class="btn btn-primary" type="button">Hide Employees</button>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Employee</th>
        <th scope="col">Balance Hours</th>
        <th scope="col">Break Time</th>
        <th scope="col">Email</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let e of employees">
        <th scope="row">{{e.firstName}} {{e.lastName}}</th>
        <td>{{e.balanceHours}}</td>
        <td>{{e.breakTime}}</td>
        <td>{{e.email}}</td>
      </tr>
      </tbody>
    </table>
  </ng-container>
</div>
<!--
Form to create a new Leave request
-->
<div class="container-fluid p-3 my-3">
  <button (click)="showLeaveRequest()" *ngIf="!newLeave">Create Leave Request</button>
  <form [hidden]="!newLeave">
    <button (click)="showLeaveRequest()" *ngIf="newLeave">Hide Leave Request</button>
  <div class="newLeave">
    Employee First name:
    <div style="display: inline-block" [(ngModel)] = "newPeriod.employee"><br>
      <select [(ngModel)]="selectedEmployee">
        <option *ngFor="let e of employees" [value]='e.email'>{{e.firstName}} {{e.lastName}}</option>
      </select>
    </div>
    <br>
    Purpose: <div style="display: inline-block" [(ngModel)] = "newPeriod.purpose">
    <select>
      <option value="0">Vacation Request</option>
      <option value="1">Confirmed Vacation</option>
      <option value="2">Sick Leave</option>
      <option value="3">Working Hours</option>
      <option value="4">Scheduled Working Hours</option>
      <option value="5">Absence</option>
      <option value="6">Free Time Request</option>
      <option value="7">Working Hour Request</option>
    </select>
  </div><br>
    Date from: <input [(ngModel)] = "newPeriod.dateFrom" type="Date">
    Date to: <input [(ngModel)] = "newPeriod.dateTo" type="Date">
    <button type="submit" (click)="saveEntry()">Submit</button>
  </div>
  </form>
</div>
