<div *ngIf="!employeeSelected">
<div class="container-fluid p-3 my-3">
  <button (click)="toggleShow()" *ngIf=!isFormShown class="btn btn-primary" type="button">Add New Employees</button>
  <ng-container *ngIf=isFormShown>
    <button (click)="toggleShow()" class="btn btn-primary" type="button">Close Form</button>
    <form #contactForm="ngForm">
      <p>
        <label for="firstName">Name:</label>
        <input type="text" name="firstName" id="firstName" [(ngModel)]="newEmployee.firstName" #firstName="ngModel" placeholder="First Name">
      </p>

      <p>
        <label for="lastName">Last Name:</label>
        <input type="text" name="lastName" id="lastName" [(ngModel)]="newEmployee.lastName" #firstName="ngModel" placeholder="Last Name">
      </p>

      <p>
        <label for="password">Password:</label>
        <input type="text" name="password" id="password" [(ngModel)]="newEmployee.password" #passwordName="ngModel" placeholder="Password">
      </p>

      <p>
        <label for="email">Email:</label>
        <input type="text" name="email" id="email" [(ngModel)]="newEmployee.email" #email="ngModel" placeholder="Email">
      </p>

      <p>
        <label for="team">Team:</label>
        <select [(ngModel)]="newEmployee.team" id="team">
          <option *ngFor="let team of teams" [value]="team.id">{{team.name}}</option>
        </select>
      </p>

      <p>
        <label for="hoursPerWeek">Hours Per Week:</label>
        <input type="number" name="hoursPerWeek" id="hoursPerWeek" [(ngModel)]="newEmployee.hoursPerWeek" #hoursPerWeek="ngModel" placeholder="Hours Per Week" [min]="0" step="1">
      </p>

      <p>
        <label for="balanceHours">Balance Hours:</label>
        <input type="number" name="balanceHours" id="balanceHours" [(ngModel)]="newEmployee.balanceHours" #balanceHours="ngModel" placeholder="Balance Hours" step="0.25">
      </p>

      <p>
        <label for="breakTime">Break Time:</label>
        <input type="number" name="breakTime" id="breakTime" [(ngModel)]="newEmployee.breakTime" #breakTime="ngModel" placeholder="Break Time"[min]="0" step="0,25">
      </p>

      <p>
        <label for="role">Role:</label>
        <select [(ngModel)]="newEmployee.role" id="role">
          <option *ngFor="let r of Role | keyvalue" [value]="r.key" >{{r.key}} - {{r.value}}</option>
        </select>
      </p>

      <p>
        <button (click)="saveEmployee(newEmployee)" value="Save">Save</button>
      </p>
    </form>
  </ng-container>
</div>

<div class="container-fluid p-3 my-3">
  <button (click)="getEmployees()" *ngIf="!employees" class="btn btn-primary" type="button">Show Employees</button>
  <ng-container *ngIf="employees">
    <button (click)="clearAll()" class="btn btn-primary" type="button">Hide Employees</button>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Employee</th>
        <th scope="col">Balance Hours</th>
        <th scope="col">Break Time</th>
        <th scope="col">Email</th>
        <th scope="col">Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let e of employees">
        <th scope="row">{{e.firstName}} {{e.lastName}}</th>
        <td>{{e.balanceHours}}</td>
        <td>{{e.breakTime}}</td>
        <td>{{e.email}}</td>
        <td>
          <button type="button" class="show" title="employee details"
                  (click)="getEmployee(e.id)">Details</button>
        </td>
        <td>
          <button type="button" class="delete" title="delete employee"
                  (click)="deleteEmployee(e)">Delete</button>
        </td>
      </tr>
      </tbody>
    </table>
  </ng-container>
</div>
</div>

<div class="card" *ngIf="employeeSelected"   >
  <div class="container" *ngIf="!editMode">
    <button class="close-button" aria-label="Close alert" type="button" data-close (click)="closeEmployeeDetails()">
      <span aria-hidden="true">&times;</span>
    </button>
    <h4><b>{{selectedEmployee.firstName + " " + selectedEmployee.lastName}}</b></h4>
    <p>
      <strong>Team:</strong> {{getTeamName(selectedEmployee.team)}}
    </p>
    <p>
      <strong>Role:</strong> {{capitalizeFirstLetter(Role[selectedEmployee.role])}}
    </p>
    <button type="button" class="edit" title="edit employee"
            (click)="editModeOn()">Edit</button>
  </div>
  <div class="container" *ngIf="editMode">
    <button class="close-button" aria-label="Close alert" type="button" data-close (click)="closeEmployeeDetails()">
      <span aria-hidden="true">&times;</span>
    </button>
    <div>
      <label for="empFirstName">First name: </label>
      <input id="empFirstName" [(ngModel)]="selectedEmployee.firstName">
    </div>
    <div>
      <label for="empLastName">Last name: </label>
      <input id="empLastName" [(ngModel)]="selectedEmployee.lastName">
    </div>
    <p>
      <strong>Team:</strong> {{getTeamName(selectedEmployee.team)}}
    </p>
    <p>
      <strong>Role:</strong> {{capitalizeFirstLetter(Role[selectedEmployee.role])}}
    </p>
    <button type="button" class="save" title="edit employee"
            (click)="editEmployee(selectedEmployee)">Save</button>
  </div>
</div>


<!--
TODO:
Team has to be added first, if no other team exist.
CEO => info about Manager and all Employees / we can do everything! Can chose any team when adding a new employee.
Manager => all information about all Employees / can see: EDIT & DELETE, ADD NEW EMPLOYEE and DETAILS of own Employees.
New employee will automatically be added to manager's team.
Employee => info about Trainees / can see: DETAILS: List of all employees of each team with email & telephone details
Trainee => info about themselves / can see: LEAVE REQUEST, info about their own TEAM / only details button

write a new function to show the info about the person
-->

